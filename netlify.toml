[build]
  command = "npm run build"
  publish = ".next"

# Configure ALL serverless functions using the '*' wildcard
[functions."*"]
  # Setting the timeout in seconds. 26s is the maximum.
  # This property is the correct way to specify duration now.
  external_node_modules = ["@sparticuz/chromium", "playwright-core"]
  max_duration = 26

[functions]
  # This is the critical fix for bundling the Chromium binaries!
  # It explicitly tells Netlify to include these non-JS files in the function zip.
  included_files = ["node_modules/@sparticuz/chromium/bin/**"]